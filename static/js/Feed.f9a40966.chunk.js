(this["webpackJsonpmedium-clone-with-mern"]=this["webpackJsonpmedium-clone-with-mern"]||[]).push([[6],{108:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(31),l=a(654),i=a(622),s=a(109),o=a.n(s),u=a(95);a(114);t.a=function(){return n.a.createElement("div",{className:"header-wrapper"},n.a.createElement("div",{className:"ui container"},n.a.createElement(l.a,{secondary:!0,className:"site-header"},n.a.createElement(l.a.Item,{name:"logo",className:"logo",as:c.b,to:"/"},n.a.createElement(i.a,{src:o.a,alt:"Logo"})),n.a.createElement(l.a.Item,{name:"topStories"},n.a.createElement(c.b,{to:"/"},"Top Stories")),n.a.createElement(l.a.Menu,{position:"right",className:"sign-in"},n.a.createElement(l.a.Item,{name:"signin"},n.a.createElement(u.a,null))))))}},109:function(e,t,a){e.exports=a.p+"static/media/stories-logo.a38b51bf.svg"},112:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},139:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"g",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return E})),a.d(t,"a",(function(){return f}));var r=a(9),n=a.n(r),c=a(15),l=a(25),i=a(2),s=a(23),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(){var t=Object(c.a)(n.a.mark((function t(a){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/articles/feed?page=".concat(e));case 2:r=t.sent,a({type:1===e?i.LOAD_ARTICLES:i.LOAD_MORE_ARTICLES,payload:r.data.articles});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(){return function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i.RESET_ARTICLES});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/articles/popular");case 2:a=e.sent,t({type:i.LOAD_ARTICLES_POPULAR,payload:a.data.articles});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/articles/"+e);case 2:(r=t.sent).data&&a({type:i.LOAD_ARTICLE_DETAILS_SUCCESS,payload:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.a)(a),e.next=3,l.a.get("/articles/me",r);case 3:(c=e.sent).data&&t({type:i.LOAD_MY_ARTICLES,payload:c.data});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(s.a)(r),t.next=3,l.a.delete("articles/"+e,c);case 3:t.sent.data.success&&a({type:i.DELETE_ARTICLE_SUCCESS,payload:e});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a,r){var c,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(s.a)(r),t.next=3,l.a.patch("articles/".concat(e,"/clap"),c);case 3:(o=t.sent).data.success&&a({type:i.ARTICLE_CLAP_SUCCESS,payload:o.data.article});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},143:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(18),l=a(108);a(115);t.a=Object(c.b)((function(e){return{auth:e.auth}}),{})((function(e){e.auth;var t=e.children;return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,null),n.a.createElement("div",{className:"page-content"},t))}))},601:function(e,t,a){},604:function(e,t,a){},605:function(e,t,a){},606:function(e,t,a){},607:function(e,t,a){},650:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return _}));var r=a(255),n=a(256),c=a(265),l=a(263),i=a(0),s=a.n(i),o=a(257),u=a(647),m=a(637),d=a(638),p=a(140),E=a(18),f=a(600),h=a.n(f),b=a(648),g=a(623),v=a(139),y=a(31),w=a(371),O=a(373),S=a(622),I=(a(601),function(e){var t=e.article,a=e.clapArticle;return s.a.createElement(b.a,{key:t._id},s.a.createElement(b.a.Content,null,s.a.createElement(b.a.Header,{as:"h2"},s.a.createElement(y.b,{to:"view-story/".concat(t._id)},t.title),s.a.createElement(b.a.Meta,null,s.a.createElement(w.a,null,s.a.createElement(w.a.Subheader,null,t.description)))),s.a.createElement(b.a.Meta,null,s.a.createElement(w.a,null,s.a.createElement(w.a.Subheader,null,s.a.createElement(O.a,{onClick:function(){a(t._id)},name:"like"}),t.clap||0," Likes",s.a.createElement("span",{className:"mid-dot-divider"}),t.displayedDate))),s.a.createElement(w.a,{size:"small"},s.a.createElement(S.a,{circular:!0,src:t.author.profileImageUrl}),s.a.createElement(w.a.Content,null,s.a.createElement(y.b,{to:"authors/".concat(t.author._id)},t.author.name)))),function(e){if(e&&e.length)return s.a.createElement(b.a.Image,{src:t.featureImage})}(t.featureImage))}),A=(a(604),Object(E.b)((function(e){return{articles:e.articleListing.articles,noMore:e.articleListing.noMore}}),{loadArticles:v.d,resetArticles:v.g,clapArticle:v.a})((function(e){var t=e.noMore,a=e.articles,r=e.loadArticles,n=e.resetArticles,c=e.clapArticle,l=Object(i.useState)(1),o=Object(p.a)(l,2),u=o[0],m=o[1];return Object(i.useEffect)((function(){return function(){n()}}),[]),s.a.createElement(b.a.Group,null,a.map((function(e,t){return s.a.createElement(I,{key:t,as:b.a,article:e,clapArticle:c})})),s.a.createElement(b.a,{key:"placeholder",style:{display:t?"none":""}},s.a.createElement(b.a.Content,null,s.a.createElement(g.a,null,s.a.createElement(g.a.Paragraph,null,s.a.createElement(g.a.Line,null),s.a.createElement(g.a.Line,null),s.a.createElement(g.a.Line,null)),s.a.createElement(g.a.Header,{image:!0},s.a.createElement(g.a.Line,null)))),s.a.createElement(g.a,{style:{height:130,width:180}},s.a.createElement(h.a,{onChange:function(e){!t&&e&&(r(u),m(u+1))}},s.a.createElement(g.a.Image,null)))))}))),L=a(656),j=(a(605),function(e){var t=e.article;return s.a.createElement(b.a,null,s.a.createElement(b.a.Content,null,s.a.createElement(b.a.Header,{as:"div",className:"ui header small"},s.a.createElement(y.b,{to:"view-story/".concat(t._id)},t.title)),s.a.createElement(b.a.Meta,{className:"shorten-1"},t.description),s.a.createElement(b.a.Meta,null,s.a.createElement(w.a,null,s.a.createElement(w.a.Subheader,null,s.a.createElement(O.a,{name:"like"}),t.clap," Likes",s.a.createElement("span",{className:"mid-dot-divider"}),t.displayedDate)))))}),k=(a(606),Object(E.b)((function(e){return{articles:e.articleListing.popularArticles}}),{loadPopularArticles:v.f})((function(e){var t=e.loadPopularArticles,a=e.articles;return Object(i.useEffect)((function(){t()}),[]),s.a.createElement(L.a,null,s.a.createElement(w.a,{as:"h3"},"Top Stories"),s.a.createElement(b.a.Group,{divided:!0,className:"story-list"},a.map((function(e){return s.a.createElement(j,{key:e._id,article:e})}))))}))),N=a(143),_=(a(607),function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).contextRef=Object(i.createRef)(),e}return Object(n.a)(a,[{key:"render",value:function(){return s.a.createElement(N.a,null,s.a.createElement(o.a,{className:"feed-container"},s.a.createElement("div",{className:"ui grid"},s.a.createElement("div",{className:"ten wide column stories"},s.a.createElement(A,null)),s.a.createElement("div",{className:"six wide column"},s.a.createElement(u.a,{innerRef:this.contextRef},s.a.createElement(m.a,{style:{position:"relative",width:"100%"}},s.a.createElement(d.a,{context:this.contextRef},s.a.createElement(k,null))))))))}}]),a}(i.Component))},95:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(18),l=a(31),i=a(622),s=a(649),o=a(23),u=a(646),m=a(656),d=a(657),p=a(636),E=a(653),f=a(373),h=a(19),b=a(106),g=a(11),v=a(651),y=a(645),w=a(105),O=w.a({email:w.b().email("Invalid email address").required("Required"),password:w.b().min(6,"Must be 6 characters at minimum").max(20,"Must be 20 characters or less").required("Required")}),S=Object(c.b)((function(e){return{auth:e.auth}}),{loginUserWithEmail:o.e})((function(e){var t=Object(b.a)({initialValues:{email:"",password:""},validationSchema:O,onSubmit:function(t){e.loginUserWithEmail(t)}});return e.auth.isAuthenticated?n.a.createElement(g.a,{to:"/"}):n.a.createElement("div",null,n.a.createElement(v.a,{attached:!0,header:"Already signed up?",content:"Login here"}),n.a.createElement(y.a,{className:"attached fluid segment",onSubmit:t.handleSubmit},n.a.createElement(v.a,{negative:!0,style:{display:e.auth.error?"block":"none"}},n.a.createElement("p",null,e.auth.error&&e.auth.error.errorMessage)),n.a.createElement(y.a.Input,Object.assign({name:"email",label:"Email",type:"text",placeholder:"Email"},t.getFieldProps("email"),t.touched.email&&t.errors.email?{error:t.errors.email}:{})),n.a.createElement(y.a.Input,Object.assign({name:"password",label:"Password",type:"password",placeholder:"Password"},t.getFieldProps("password"),t.touched.password&&t.errors.password?{error:t.errors.password}:{})),n.a.createElement(E.a,{type:"submit"},"Submit")))})),I=a(9),A=a.n(I),L=a(15),j=a(2),k=a(24),N=w.a({firstName:w.b().min(2,"Must be 2 characters at minimum").max(30,"Must be 30 characters or less").required("This field is required"),lastName:w.b().min(2,"Must be 2 characters at minimum").max(30,"Must be 30 characters or less").required("This field is required"),email:w.b().email("Invalid email address").required("This field is required"),password:w.b().min(6,"Must be 6 characters at minimum").max(20,"Must be 20 characters or less").required("This field is required")}),_=Object(c.b)((function(e){return{auth:e.auth,register:e.register}}),{registerUser:function(e){return function(){var t=Object(L.a)(A.a.mark((function t(a,r){var n,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:j.REGISTER_WITH_EMAIL_LOADING}),t.prev=1,t.next=4,k.a.post("/register",e);case 4:n=t.sent,a({type:j.REGISTER_WITH_EMAIL_SUCCESS}),a({type:j.LOGIN_WITH_EMAIL_SUCCESS,payload:{token:n.data.token,me:n.data.me}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:j.REGISTER_WITH_EMAIL_FAIL,payload:{error:(null===t.t0||void 0===t.t0||null===(c=t.t0.response)||void 0===c?void 0:c.data.message)||t.t0.message}});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=Object(b.a)({initialValues:{firstName:"",lastName:"",email:"",password:""},validationSchema:N,onSubmit:function(t){e.registerUser(t)}});return e.auth.isAuthenticated?n.a.createElement(g.a,{to:"/"}):n.a.createElement("div",null,n.a.createElement(v.a,{attached:!0,header:"Welcome to our site!",content:"Fill out the form below to sign-up for a new account"}),n.a.createElement(y.a,{className:"attached fluid segment",onSubmit:t.handleSubmit},n.a.createElement(v.a,{negative:!0,style:{display:e.register.error?"block":"none"}},n.a.createElement("p",null,e.register.error&&e.register.error)),n.a.createElement(y.a.Input,Object.assign({name:"firstName",label:"First name",type:"text",placeholder:"First name"},t.getFieldProps("firstName"),t.touched.firstName&&t.errors.firstName?{error:t.errors.firstName}:{})),n.a.createElement(y.a.Input,Object.assign({name:"lastName",label:"Last name",type:"text",placeholder:"Last name"},t.getFieldProps("lastName"),t.touched.lastName&&t.errors.lastName?{error:t.errors.lastName}:{})),n.a.createElement(y.a.Input,Object.assign({name:"email",label:"Email",type:"email",placeholder:"Email"},t.getFieldProps("email"),t.touched.email&&t.errors.email?{error:t.errors.email}:{})),n.a.createElement(y.a.Input,Object.assign({name:"password",label:"Password",type:"password",placeholder:"Password"},t.getFieldProps("password"),t.touched.password&&t.errors.password?{error:t.errors.password}:{})),n.a.createElement(E.a,{type:"submit"},"Submit")))})),C=(a(112),Object(c.b)((function(e){return{}}),{})((function(e){var t=e.open,a=e.trigger;return n.a.createElement(u.a,{open:t,trigger:a},n.a.createElement(u.a.Header,null,"Welcome"),n.a.createElement(u.a.Content,null,n.a.createElement(m.a,null,n.a.createElement(d.a,{columns:2,stackable:!0},n.a.createElement(p.a,{vertical:!0},"Or"),n.a.createElement(d.a.Row,null,n.a.createElement(d.a.Column,null,n.a.createElement(_,null)),n.a.createElement(d.a.Column,null,n.a.createElement(S,null),n.a.createElement(p.a,{horizontal:!0},"Or Sign in with socials"),n.a.createElement(m.a,null,n.a.createElement(E.a,{color:"facebook",onClick:function(){return window.location.href=h.d}},n.a.createElement(f.a,{name:"facebook"})," Facebook"),n.a.createElement(E.a,{color:"google plus",onClick:function(){return window.location.href=h.e}},n.a.createElement(f.a,{name:"google"})," Google"))))))))}))),x=function(e){var t=e.auth,a=e.logOut,r=e.buttonText;if(!t.isAuthenticated||!t.me)return n.a.createElement(n.a.Fragment,null,n.a.createElement(C,{trigger:n.a.createElement("button",{id:"signInButton"},r)}));var c=n.a.createElement("span",null,n.a.createElement(i.a,{avatar:!0,src:t.me.profileImageUrl})," ",t.me.name);return n.a.createElement(s.a,{trigger:c},n.a.createElement(s.a.Menu,null,n.a.createElement(s.a.Item,{key:"new-story"},n.a.createElement(l.b,{to:"/new-story"},"New story")),n.a.createElement(s.a.Item,{key:"stories"},n.a.createElement(l.b,{to:"/my-stories"},"Stories")),n.a.createElement(s.a.Item,{key:"logout",onClick:function(){return a()}},"Logout")))};x.defaultProps={buttonText:"Sign in/Sign up"};t.a=Object(c.b)((function(e){return{auth:e.auth}}),{logOut:o.d})(x)}}]);
//# sourceMappingURL=Feed.f9a40966.chunk.js.map